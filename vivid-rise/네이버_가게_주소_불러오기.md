# 네이버에서 가게 입력해서 주소 불러오기

가게 이름을 넣으면 **네이버 지역 검색 API**로 주소·이미지 등을 가져오는 서버리스 API를 사용할 수 있습니다.

---

## 1. 네이버 API 키 발급 (검색 API)

1. [네이버 개발자센터](https://developers.naver.com/apps/#/register) → **애플리케이션 등록**
2. **사용 API**에서 **검색** (지역 검색 포함) 선택
3. 등록 후 **Client ID**, **Client Secret** 확인

---

## 2. Vercel 환경 변수 등록 (여기에 넣기)

**코드·Git에는 넣지 마세요.** Vercel 대시보드에서만 입력하세요.

1. [Vercel](https://vercel.com) 로그인 → **pickt-daily** 프로젝트(또는 vivid-rise 배포한 프로젝트) 선택
2. **Settings** → **Environment Variables**
3. **Add** 클릭 후 아래처럼 두 개 추가:

   | Name | Value |
   |------|--------|
   | `NAVER_CLIENT_ID` | 네이버 앱 정보에서 복사한 **Client ID** (예: IG5JMwQoz3lYnziGXMue) |
   | `NAVER_CLIENT_SECRET` | 네이버 앱 정보에서 복사한 **Client Secret** (예: IZ8Mmu9MNx) |

4. **Save** 후 **Redeploy** 한 번 하면 적용됩니다.

---

## 3. API 호출 방법

배포된 사이트 기준으로 다음 주소로 요청하면 됩니다.

```
GET https://pickt-daily.vercel.app/api/naver-place?name=가게명&region=지역
```

**예시**

- `?name=소문난성수감자탕&region=성수`
- `?name=김밥천국`

**응답 예시 (JSON)**

```json
{
  "found": true,
  "query": "소문난성수감자탕 성수",
  "title": "소문난성수감자탕",
  "address": "서울 성동구 ...",
  "roadAddress": "서울 성동구 연무장길 ...",
  "link": "https://...",
  "category": "한식>...",
  "mapx": "...",
  "mapy": "...",
  "imageUrl": "https://..." 또는 null
}
```

`imageUrl`은 네이버 API에서 제공할 경우에만 포함됩니다. 없으면 `null`입니다.

---

## 4. 프론트에서 쓰는 방법

같은 도메인에 배포돼 있으면 `fetchPlaceFromNaver(name, region)` (아래 유틸)로 호출할 수 있습니다.

- **정적 데이터 채우기**: 가게명 넣고 API 호출 → 나온 `address`, `roadAddress`, `imageUrl`을 `gemini.js`의 `PLACE_COORDS`, `PLACE_IMAGE_URLS` 등에 수동으로 넣기
- **실시간 표시**: 앱 화면에서 “가게 검색” 같은 입력이 있으면, 입력값으로 이 API 호출 후 결과를 화면에 표시

---

## 5. 로컬에서 API 테스트

로컬에서는 Vercel CLI로 서버리스만 띄우거나, 배포 후 위 URL로 브라우저/Postman에서 호출해 보면 됩니다.

- 로컬: `vercel dev` 사용 시 `/api/naver-place` 로 호출 가능 (env는 `.env`에 `NAVER_CLIENT_ID`, `NAVER_CLIENT_SECRET` 추가)

---

**요약:**  
1) 네이버 개발자센터에서 검색 API 키 발급  
2) Vercel에 `NAVER_CLIENT_ID`, `NAVER_CLIENT_SECRET` 등록  
3) `GET /api/naver-place?name=가게명&region=지역` 로 주소·이미지 등 불러오기
